{% extends "base.html" %}

{% block js %}
    {{ super() }}
    <script>
        $(document).ready(function() {
            $('#mainTable').DataTable({
                ajax: '/api/courses/',
                dataSrc: '',
<!--                processing: true,-->
<!--                serverSide: true,-->
                columns: [
                    { data: 'id',
                    width: 100,
                    render: function ( data, type, row) {
                        return '<a href="/courses/' + data + '/details/">' + data + '</a>';
                      }
                    },
                    { data: 'num' },
                    { data: 'faculty.name', className: 'dt-body-right' },
                ],
                language: {
                    info: 'Страница _PAGE_ из _PAGES_',
                    infoEmpty: 'Нет данных',
                    infoFiltered: '(отфильтровано из _MAX_ записей)',
                    lengthMenu: '_MENU_ записей на странице',
                    zeroRecords: 'Нет данных',
                    search: 'Поиск'
                }
            });
        })
    </script>
{% endblock %}

{% block header %}
<h1 class="mt-4">Курсы</h1>
{% endblock %}

{% block breadcrumbs %}
<ol class="breadcrumb mb-4">
    <li class="breadcrumb-item active">Курсы</li>
</ol>
{% endblock %}

{% block content %}

<div class="card mb-4">
    <div class="card-header">
        <div class="d-flex justify-content-between align-items-center">
            <div></div>
            <a href="/courses/create/" class="btn btn-primary">
                Добавить
            </a>
        </div>
    </div>
    <div class="card-body">
        <table id="mainTable" class="datatable-table stripe">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Номер</th>
                    <th>Факультет</th>
                </tr>
            </thead>
            <tfoot>
                <tr>
                    <th>ID</th>
                    <th>Номер</th>
                    <th>Факультет</th>
                </tr>
            </tfoot>
            <tbody>
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
